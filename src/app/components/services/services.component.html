<div class="services-container">
  <h1><i class="icon">ðŸ“‹</i> Services</h1>

  <div class="search-section">
    <input
      type="text"
      class="search-input"
      placeholder="Search by title or body..."
      (input)="onSearchChange($any($event.target).value)"
    />
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading$ | async" class="loading-state">
    <p>Loading service tickets...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error$ | async as errorMessage" class="error-state">
    <p>{{ errorMessage }}</p>
  </div>

  <!-- Posts List -->
  <div *ngIf="!(isLoading$ | async) && !(error$ | async)">
    <div *ngIf="filteredPosts$ | async as posts">
      <p class="results-count">Showing {{ posts.length }} service tickets</p>
      
      <div *ngIf="posts.length === 0" class="no-results">
        <p>No service tickets found matching your search.</p>
      </div>

      <div class="posts-grid">
        <div *ngFor="let post of posts" class="post-card">
          <div class="post-header">
            <span class="post-id">ID: {{ post.id }}</span>
            <span class="user-badge">User {{ post.userId }}</span>
          </div>
          <h3>{{ post.title }}</h3>
          <p>{{ post.body | truncate:150 }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
